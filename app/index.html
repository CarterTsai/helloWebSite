<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Web Site Testing</title>
</head>
<style media="screen">
    .container {
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: row wrap;
        flex-flow: row wrap;
    }

    .wrapper > * {
      padding: 10px;
      flex: 1 100%;
    }

    header {
      -webkit-flex: 1;
              flex: 1;
    }

    .content {
      -webkit-flex: 1;
              flex: 1;
    }

    .right {
      flex: 1 auto;
    }

    .left {
      flex: 1 auto;
    }
</style>

<body>
    <script>
        (function() {
            var request = require("request");
            var schedule = require('node-schedule');
            var moment = require('moment-timezone');
            var childProcess = require('child_process');
            var fs = require('fs')
            var path = require('path')
            var phantomjs = require('phantomjs');

            var childArgs = [
               path.join(__dirname, 'capture.js'),
               'https://www.chung-yo.com'
             ]

             childProcess.execFile(phantomjs.path, childArgs, function (err, stdout, stderr) {
               console.log(stdout);
             })

            var count = 0;
            var time = 30;
            var y = schedule.scheduleJob('*/1 * * * * *', function() {
                var nowDom = document.querySelector(".container .now");
                nowDom.innerHTML = moment().tz("Asia/Taipei").format("h:mm:ss a");
            });

            var j = schedule.scheduleJob('*/'+time+' * * * * *', function() {
                count += 1;
            });
        })();
    </script>
    <div class="container wrapper">
        <header>
            <h3 class="title now"></3>
            <h5>Update Status during 30 second </h5>
        </header>
        <div>
          
        </div>
    </div>

</body>

</html>
